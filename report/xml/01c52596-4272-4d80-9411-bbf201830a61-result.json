{"name": "test_api[case_data10]", "status": "broken", "statusDetails": {"message": "AttributeError: 'str' object has no attribute 'items'", "trace": "self = <case.test_allocation.TestCase object at 0x10cd39eb8>\ncase_data = {'APIName': '其他出库签字', 'CaseId': 11, 'CaseName': 'sign_transfer-out-bills', 'CheckType': 'only_check_status', ...}\n\n    @pytest.mark.parametrize('case_data', case_dict, ids=[])\n    @allure.story(\"调拨模块测试\")\n    @pytest.mark.flaky(reruns=3, reruns_delay=3)\n    def test_api(self, case_data):\n        '''\n        :param case_data: 测试用例\n        :return:\n        '''\n>       code, response = h.send_requests(case_data)\n\ntest_allocation.py:54: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n../util/httpClient.py:54: in send_requests\n    parameter = self.init_request(depend_case, relevance, parameter)\n../util/httpClient.py:153: in init_request\n    relevance_response = self.read_relevance_data(dependCase)  # 执行依赖接口\n../util/httpClient.py:210: in read_relevance_data\n    result = self.send_requests(case_data)\n../util/httpClient.py:73: in send_requests\n    result = self.api_method(method, url, parameter, cookie, header, parameter_type)\n../util/httpClient.py:100: in api_method\n    response = requests.post(url=url, headers=header, data=params, cookies=cookie)\n../venv/bin/python/lib/python3.6/site-packages/requests/api.py:119: in post\n    return request('post', url, data=data, json=json, **kwargs)\n../venv/bin/python/lib/python3.6/site-packages/requests/api.py:61: in request\n    return session.request(method=method, url=url, **kwargs)\n../venv/bin/python/lib/python3.6/site-packages/requests/sessions.py:516: in request\n    prep = self.prepare_request(req)\n../venv/bin/python/lib/python3.6/site-packages/requests/sessions.py:459: in prepare_request\n    hooks=merge_hooks(request.hooks, self.hooks),\n../venv/bin/python/lib/python3.6/site-packages/requests/models.py:315: in prepare\n    self.prepare_headers(headers)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <PreparedRequest [POST]>\nheaders = \"{'Content-Type':'application/json','charset': 'UTF-8'}\"\n\n    def prepare_headers(self, headers):\n        \"\"\"Prepares the given HTTP headers.\"\"\"\n    \n        self.headers = CaseInsensitiveDict()\n        if headers:\n>           for header in headers.items():\nE           AttributeError: 'str' object has no attribute 'items'\n\n../venv/bin/python/lib/python3.6/site-packages/requests/models.py:447: AttributeError"}, "description": "\n        :param case_data: 测试用例\n        :return:\n        ", "steps": [{"name": "开始请求接口", "status": "passed", "attachments": [{"name": "请求类型", "source": "8fa3f54c-688f-4256-9de2-6d3ddbafb33e-attachment.attach"}, {"name": "用例名称:", "source": "32aea803-88f9-4b12-bd90-19193293c639-attachment.attach"}, {"name": "请求地址:", "source": "7239bd07-35ad-4181-b4b9-46f241263aec-attachment.attach"}, {"name": "请求头", "source": "33d229b6-c93a-4e65-a024-a1868edf6013-attachment.attach"}, {"name": "请求参数类型", "source": "6b6d2703-473c-48d1-9451-127a68291af1-attachment.attach"}, {"name": "请求参数", "source": "a6c87f75-6c2c-49af-ab5d-e17a5b135ebc-attachment.attach"}], "start": 1589447630574, "stop": 1589447630576}, {"name": "开始请求接口", "status": "passed", "attachments": [{"name": "请求类型", "source": "2f62f9f5-8dfe-49b2-ab06-17b4f96a8ce2-attachment.attach"}, {"name": "用例名称:", "source": "15c9467b-df58-449b-9c3f-95daaba3a5b7-attachment.attach"}, {"name": "请求地址:", "source": "093ef4a0-4b22-48dc-92a2-e86b1fe419e9-attachment.attach"}, {"name": "请求头", "source": "8a3820b6-dd88-400e-b497-0619c57c417c-attachment.attach"}, {"name": "请求参数类型", "source": "7da550f6-3b21-45d8-a7b0-8aa833ca6b32-attachment.attach"}, {"name": "请求参数", "source": "8e6812b2-683c-4082-bb33-5c92aef67359-attachment.attach"}], "start": 1589447636896, "stop": 1589447636897}, {"name": "开始请求接口", "status": "passed", "attachments": [{"name": "请求类型", "source": "1dc16ec0-86e7-4a7c-ba90-327cd1d281a9-attachment.attach"}, {"name": "用例名称:", "source": "a52bb527-6430-499a-b1ac-6626841be598-attachment.attach"}, {"name": "请求地址:", "source": "8efc72c2-750f-4236-be7e-bbd94f97a81a-attachment.attach"}, {"name": "请求头", "source": "0ddee704-f210-4c9a-97e2-1d36fefd69d9-attachment.attach"}, {"name": "请求参数类型", "source": "7794ce4e-f2ae-40b1-b45d-758c313cca56-attachment.attach"}, {"name": "请求参数", "source": "5369dd50-e480-47ce-9450-cfadb356be71-attachment.attach"}], "start": 1589447637307, "stop": 1589447637309}, {"name": "开始请求接口", "status": "passed", "attachments": [{"name": "请求类型", "source": "0513f69f-54dd-4627-88fb-840559e956b4-attachment.attach"}, {"name": "用例名称:", "source": "cbccaad3-2b12-468b-b042-8a63755774db-attachment.attach"}, {"name": "请求地址:", "source": "0979be4e-4786-4c91-89f4-e3deb7c3f157-attachment.attach"}, {"name": "请求头", "source": "072996d3-cda5-4882-bc18-3895ba63b1c9-attachment.attach"}, {"name": "请求参数类型", "source": "889460aa-ae5b-49e8-918a-1f54ce5ea8b6-attachment.attach"}, {"name": "请求参数", "source": "7fcb8158-593b-4a04-b405-d42b7ab16986-attachment.attach"}], "start": 1589447639976, "stop": 1589447639979}], "attachments": [{"name": "log", "source": "8ee40b9c-5596-4550-b70b-52741e0416e8-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "case_data", "value": "{'CaseId': 11, 'CaseName': 'sign_transfer-out-bills', 'APIName': '其他出库签字', 'Headers': {'Content-Type': 'application/x-www-form-urlencoded', 'charset': 'UTF-8'}, 'Path': '/occ-stock/stock/transfer-out-bills/batch-sign', 'Method': 'post', 'ParameterType': 'form_data', 'Params': {'ids': 'create-transfer-out1', 'search_AUTH_APPCODE': 'transferOutBill'}, 'CheckType': 'only_check_status', 'ExpectedCode': 200, 'ExpectedData': '', 'User': 'Manager', 'DependCase': 'create_transfer-out-bills', 'RelevanceList': {'ids': '$..id'}}"}], "start": 1589447630453, "stop": 1589447639980, "uuid": "2314f333-1504-4bda-88de-bb5797a4bde0", "historyId": "e1b096717a5c7c2ad448422e53023496", "testCaseId": "a7532dad0b171d55a5c81c01d5f070e2", "fullName": "case.test_allocation.TestCase#test_api", "labels": [{"name": "story", "value": "调拨模块测试"}, {"name": "feature", "value": "渠道云接口自动化测试"}, {"name": "parentSuite", "value": "case"}, {"name": "suite", "value": "test_allocation"}, {"name": "subSuite", "value": "TestCase"}, {"name": "host", "value": "xmlydeMacBook-Pro.local"}, {"name": "thread", "value": "53281-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "case.test_allocation"}]}