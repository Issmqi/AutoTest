{"name": "test_api[case_data8]", "status": "broken", "statusDetails": {"message": "AttributeError: 'str' object has no attribute 'items'", "trace": "self = <case.test_allocation.TestCase object at 0x10d71b400>\ncase_data = {'APIName': '查询调拨出库订单详情', 'CaseId': 9, 'CaseName': 'get_transfer-out-bills', 'CheckType': 'check_json', ...}\n\n    @pytest.mark.parametrize('case_data', case_dict, ids=[])\n    @allure.story(\"调拨模块测试\")\n    @pytest.mark.flaky(reruns=3, reruns_delay=3)\n    def test_api(self, case_data):\n        '''\n        :param case_data: 测试用例\n        :return:\n        '''\n>       code, response = h.send_requests(case_data)\n\ntest_allocation.py:54: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n../util/httpClient.py:54: in send_requests\n    parameter = self.init_request(depend_case, relevance, parameter)\n../util/httpClient.py:153: in init_request\n    relevance_response = self.read_relevance_data(dependCase)  # 执行依赖接口\n../util/httpClient.py:210: in read_relevance_data\n    result = self.send_requests(case_data)\n../util/httpClient.py:73: in send_requests\n    result = self.api_method(method, url, parameter, cookie, header, parameter_type)\n../util/httpClient.py:100: in api_method\n    response = requests.post(url=url, headers=header, data=params, cookies=cookie)\n../venv/bin/python/lib/python3.6/site-packages/requests/api.py:119: in post\n    return request('post', url, data=data, json=json, **kwargs)\n../venv/bin/python/lib/python3.6/site-packages/requests/api.py:61: in request\n    return session.request(method=method, url=url, **kwargs)\n../venv/bin/python/lib/python3.6/site-packages/requests/sessions.py:516: in request\n    prep = self.prepare_request(req)\n../venv/bin/python/lib/python3.6/site-packages/requests/sessions.py:459: in prepare_request\n    hooks=merge_hooks(request.hooks, self.hooks),\n../venv/bin/python/lib/python3.6/site-packages/requests/models.py:315: in prepare\n    self.prepare_headers(headers)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <PreparedRequest [POST]>\nheaders = \"{'Content-Type':'application/json','charset': 'UTF-8'}\"\n\n    def prepare_headers(self, headers):\n        \"\"\"Prepares the given HTTP headers.\"\"\"\n    \n        self.headers = CaseInsensitiveDict()\n        if headers:\n>           for header in headers.items():\nE           AttributeError: 'str' object has no attribute 'items'\n\n../venv/bin/python/lib/python3.6/site-packages/requests/models.py:447: AttributeError"}, "description": "\n        :param case_data: 测试用例\n        :return:\n        ", "steps": [{"name": "开始请求接口", "status": "passed", "attachments": [{"name": "请求类型", "source": "4b397080-161c-4119-8dd0-daea03eeaab9-attachment.attach"}, {"name": "用例名称:", "source": "67a85bc0-a26f-4bca-a058-3728f78fa7e9-attachment.attach"}, {"name": "请求地址:", "source": "0fec26cb-af3d-4037-9a7d-d5b3a6695d51-attachment.attach"}, {"name": "请求头", "source": "474e806c-076d-4642-92df-37af62dec6a4-attachment.attach"}, {"name": "请求参数类型", "source": "15bf7a7d-847c-47a5-ac6f-585546019625-attachment.attach"}, {"name": "请求参数", "source": "cae432f1-6160-4bc5-a547-ddc954699e9e-attachment.attach"}], "start": 1589447614418, "stop": 1589447614420}, {"name": "开始请求接口", "status": "passed", "attachments": [{"name": "请求类型", "source": "02c22100-1ec9-4e13-b439-655e85c0da00-attachment.attach"}, {"name": "用例名称:", "source": "e35e49c6-f631-47c4-b7e5-19904b1cfe22-attachment.attach"}, {"name": "请求地址:", "source": "9cd35b18-af68-4906-8bbc-7a6a9e960715-attachment.attach"}, {"name": "请求头", "source": "c602e69f-7e43-43cb-a598-847f6fa5f275-attachment.attach"}, {"name": "请求参数类型", "source": "74b14b7f-4ba3-4cb2-a5ee-bf4ee3455a7c-attachment.attach"}, {"name": "请求参数", "source": "c3594016-0c11-459c-953d-b9a177af5a54-attachment.attach"}], "start": 1589447619900, "stop": 1589447619902}, {"name": "开始请求接口", "status": "passed", "attachments": [{"name": "请求类型", "source": "30705493-8a6d-431b-b914-010154c2eb02-attachment.attach"}, {"name": "用例名称:", "source": "fe42df37-efe6-4471-965d-38c49f91e943-attachment.attach"}, {"name": "请求地址:", "source": "b38524c8-be73-4904-bdc6-064849a0a268-attachment.attach"}, {"name": "请求头", "source": "af81cd75-fb46-4885-90a9-d1915d006322-attachment.attach"}, {"name": "请求参数类型", "source": "ea149212-f0d2-46c0-af89-bcbc92360ac8-attachment.attach"}, {"name": "请求参数", "source": "141e2056-984e-4c27-b910-416117d8df73-attachment.attach"}], "start": 1589447621939, "stop": 1589447621941}, {"name": "开始请求接口", "status": "passed", "attachments": [{"name": "请求类型", "source": "a691baa3-7d40-403b-984a-98623dabaede-attachment.attach"}, {"name": "用例名称:", "source": "39de1730-2eb5-4edb-bb7b-0a7481634533-attachment.attach"}, {"name": "请求地址:", "source": "fb7fd986-2b6b-47aa-a457-2c092a0158fd-attachment.attach"}, {"name": "请求头", "source": "be09656a-78bd-4cda-9d95-54632ac40038-attachment.attach"}, {"name": "请求参数类型", "source": "aea7f789-deb3-4453-8a9a-f2ca7848d396-attachment.attach"}, {"name": "请求参数", "source": "a6ccabd8-c6c1-43b7-933f-0bd2937d93c0-attachment.attach"}], "start": 1589447622734, "stop": 1589447622737}], "attachments": [{"name": "log", "source": "78251fe9-5434-42ad-92b2-e961d330ec6d-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "case_data", "value": "{'CaseId': 9, 'CaseName': 'get_transfer-out-bills', 'APIName': '查询调拨出库订单详情', 'Headers': '', 'Path': '/occ-stock/stock/transfer-out-bills/findByParentid', 'Method': 'get', 'ParameterType': 'parameter', 'Params': {'id': 'create-transfer-out1', 'search_AUTH_APPCODE': 'transferOutBill'}, 'CheckType': 'check_json', 'ExpectedCode': 200, 'ExpectedData': {'id': '09hvzd0ZYcNlm2Acrklt', 'dr': 0, 'ts': 1587882709000, 'creator': 'tmq', 'creationTime': 1587882670000, 'modifier': 'tmq', 'modifiedTime': 1587882709000, 'persistStatus': 'nrm', 'promptMessage': None, 'stockOrgId': 'e53fc87e-1a16-4a2b-978c-63bfd14fd88b', 'stockOrgCode': '1101', 'stockOrgName': '上海证大喜马拉雅网络科技有限公司', 'stockOrgInId': 'abd7cf79-511d-4307-9bbd-d288b18d0ef9', 'stockOrgInCode': '1210', 'stockOrgInName': '西安喜马拉雅网络科技有限公司', 'billCode': 'TDN2020042600004', 'billDate': 1587830400000, 'billType': 'AllocationOut', 'billTranTypeId': 'AllocationOut', 'billTranTypeCode': 'AllocationOut', 'billTranTypeName': '调拨出库', 'storageId': '28332dbd-b2d2-4b1f-bc71-3c3c665c658f', 'storageCode': '110102', 'storageName': '知识卡仓', 'ifSlotManage': None, 'inStorageId': '0iBm0HSL0DzMt3O1Ivs9', 'inStorageCode': '121007', 'inStorageName': '高新咖啡店', 'inIfSlotManage': None, 'storekeeperId': None, 'storekeeperCode': None, 'storekeeperName': None, 'planSendDate': None, 'planArriveDate': None, 'currencyId': None, 'currencyCode': None, 'currencyName': None, 'totalShouldOutNum': 1.0, 'totalFactOutNum': 1.0, 'billStatusId': '099aj5df-4y42-4k00-d8d0-3714fdb43e6k', 'billStatusCode': '02', 'billStatusName': '已签字', 'stockBillBelong': '0NfjSVvc0jVxlBNvSScj', 'customerId': None, 'customerCode': None, 'customerName': None, 'bizPersonId': None, 'bizPersonCode': None, 'bizPersonName': None, 'deparmentId': '0WQbT14w7gylOnPhY2eT', 'deparmentCode': 'FCDEPT01', 'deparmentName': '形态转换部门01', 'logisticsId': None, 'logisticsCode': None, 'logisticsName': None, 'realLogisticsCompanyId': None, 'realLogisticsCompanyCode': None, 'realLogisticsCompanyName': None, 'logisticsBillCode': None, 'siger': 'tmq', 'signTime': 1587882709000, 'cancelReason': None, 'remark': None, 'transferBillOutItems': [{'id': '0XGKeUIfxCyfIAyiaaJ3', 'dr': 0, 'ts': 1587882693000, 'creator': 'tmq', 'creationTime': 1587882693000, 'modifier': None, 'modifiedTime': None, 'persistStatus': 'nrm', 'promptMessage': None, 'transferOutBillId': '09hvzd0ZYcNlm2Acrklt', 'rowNum': 10, 'goodsId': '1b6fd0b2-c2c7-490a-9a6e-4404028bb50e', 'goodsCode': '344030000001', 'goodsName': '喜马拉雅财经创业知识通兑卡（9选1）', 'goodsDisplayName': '喜马拉雅财经创业知识通兑卡（9选1）', 'goodsBasicUnitName': '张', 'goodsAssistUnitName': '张', 'goodsConversionRate': 1.0, 'enableBatchNumberManage': None, 'productId': None, 'productCode': None, 'productLineId': None, 'isOptional': None, 'unitId': 'cc7d062c-53ad-4ab2-9fe6-63ef173f0a00', 'unitCode': '003', 'unitName': '张', 'shouldOutNum': 1.0, 'factOutNum': 1.0, 'unitPrice': 20.0, 'amountMoney': 20.0, 'batchNumId': None, 'batchNumCode': None, 'batchNumName': None, 'goodsPositionId': None, 'goodsPositionCode': None, 'goodsPositionName': None, 'stockOutPersonId': None, 'stockOutPersonCode': None, 'stockOutPersonName': None, 'stockOutDate': None, 'receiverAddress': None, 'provinceId': None, 'provinceCode': None, 'provinceName': None, 'cityId': None, 'cityCode': None, 'cityName': None, 'countyId': None, 'countyCode': None, 'countyName': None, 'townId': None, 'townCode': None, 'townName': None, 'detailAddr': None, 'receiver': None, 'receiverPhone': None, 'receiverPhoneSpare': None, 'firstBillCode': 'DBO20200426000005', 'firstBillBcode': '0pVyy865O7Ogtc0YnSjh', 'firstBillType': 'Allocation', 'srcBillCode': 'DBO20200426000005', 'srcBillBcode': '0pVyy865O7Ogtc0YnSjh', 'srcBillType': 'Allocation', 'remark': None, 'goodsVersion': '1', 'goodsSelection': None, 'isMotherPiece': None, 'customerId': None, 'customerCode': None, 'customerName': None, 'supplierId': None, 'supplierCode': None, 'supplierName': None, 'projectId': None, 'projectCode': None, 'projectName': None, 'batchCodeId': None, 'batchCodeCode': None, 'stockStateId': None, 'stockStateCode': None, 'stockStateName': None, 'enableBatchNoManage': None, 'enableInvStatusManage': None, 'originalGoodsId': None, 'goodsSelectionDescription': None, 'ext01': '1.00000000', 'ext02': None, 'ext03': 'COO7-Cxx-03', 'ext04': 'COO7-Cxx-03', 'ext05': None, 'ext06': None, 'ext07': None, 'ext08': None, 'ext09': None, 'ext10': None, 'ext11': None, 'ext12': None, 'ext13': None, 'ext14': None, 'ext15': None, 'outStorageId': None, 'outStorageCode': None, 'outStorageName': None, 'outIfSlotManage': None, 'inStorageId': None, 'inStorageCode': None, 'inStorageName': None, 'inIfSlotManage': None}], 'transferOutBillItemBoms': [{'id': '0P2eVkhQHqVyzLrCQZvI', 'dr': 0, 'ts': 1587882693000, 'creator': 'tmq', 'creationTime': 1587882693000, 'modifier': None, 'modifiedTime': None, 'persistStatus': 'nrm', 'promptMessage': None, 'rowNum': '10', 'goodsId': '1b6fd0b2-c2c7-490a-9a6e-4404028bb50e', 'goodsCode': '344030000001', 'goodsName': '喜马拉雅财经创业知识通兑卡（9选1）', 'goodsDisplayName': '喜马拉雅财经创业知识通兑卡（9选1）', 'goodsBasicUnitName': '张', 'goodsAssistUnitName': '张', 'goodsConversionRate': 1.0, 'enableBatchNumberManage': None, 'productId': None, 'productLineId': None, 'unitId': 'cc7d062c-53ad-4ab2-9fe6-63ef173f0a00', 'unitCode': '003', 'unitName': '张', 'shouldOutNum': 1.0, 'factOutNum': 1.0, 'unitPrice': 20.0, 'amountMoney': 20.0, 'batchNumId': None, 'batchNumCode': None, 'batchNumName': None, 'goodsPositionId': None, 'goodsPositionCode': None, 'goodsPositionName': None, 'stockOutPersonId': None, 'stockOutPersonCode': None, 'stockOutPersonName': None, 'stockOutDate': None, 'receiverAddress': None, 'provinceId': None, 'provinceCode': None, 'provinceName': None, 'cityId': None, 'cityCode': None, 'cityName': None, 'countyId': None, 'countyCode': None, 'countyName': None, 'townId': None, 'townCode': None, 'townName': None, 'detailAddr': None, 'receiver': None, 'receiverPhone': None, 'receiverPhoneSpare': None, 'firstBillCode': '0NfjSVvc0jVxlBNvSScj', 'firstBillBcode': '0pVyy865O7Ogtc0YnSjh', 'firstBillType': 'Allocation', 'srcBillCode': 'DBO20200426000005', 'srcBillBcode': '0pVyy865O7Ogtc0YnSjh', 'srcBillType': 'Allocation', 'remark': None, 'goodsVersion': '1', 'goodsSelection': None, 'customerId': None, 'customerCode': None, 'customerName': None, 'supplierId': None, 'supplierCode': None, 'supplierName': None, 'projectId': None, 'projectCode': None, 'projectName': None, 'batchCodeId': None, 'batchCodeCode': None, 'stockStateId': None, 'stockStateCode': None, 'stockStateName': None, 'originalGoodsId': None, 'goodsSelectionDescription': None, 'itemId': '0XGKeUIfxCyfIAyiaaJ3', 'billId': None, 'parentGoodsId': '1b6fd0b2-c2c7-490a-9a6e-4404028bb50e', 'parentGoodsCode': '344030000001', 'parentGoodsName': '喜马拉雅财经创业知识通兑卡（9选1）', 'parentGoodsdisplayName': None, 'parentRowNum': '10', 'childGoodsQty': None, 'firstBillBomCode': '0T4TSD2BkEYNkAawoFlN', 'srcBillBomCode': '0T4TSD2BkEYNkAawoFlN', 'ext01': None, 'ext02': None, 'ext03': None, 'ext04': None, 'ext05': None, 'ext06': None, 'ext07': None, 'ext08': None, 'ext09': None, 'ext10': None, 'ext11': None, 'ext12': None, 'ext13': None, 'ext14': None, 'ext15': None}], 'srcSystem': None, 'srcSystemId': None, 'srcSystemCode': None, 'srcSystemName': None, 'ext01': None, 'ext02': None, 'ext03': None, 'ext04': None, 'ext05': None, 'ext06': None, 'ext07': None, 'ext08': None, 'ext09': None, 'ext10': None, 'ext11': None, 'ext12': None, 'ext13': None, 'ext14': None, 'ext15': None, 'sycnOutStatus': None, 'sycnNCStatus': None}, 'User': 'Manager', 'DependCase': 'create_transfer-out-bills', 'RelevanceList': {'id': '$..id'}}"}], "start": 1589447614260, "stop": 1589447622738, "uuid": "f4db5524-dfdf-498b-849e-bdf9eea76a4b", "historyId": "eefd906d21114be63c81ef46335e3f92", "testCaseId": "a7532dad0b171d55a5c81c01d5f070e2", "fullName": "case.test_allocation.TestCase#test_api", "labels": [{"name": "story", "value": "调拨模块测试"}, {"name": "feature", "value": "渠道云接口自动化测试"}, {"name": "parentSuite", "value": "case"}, {"name": "suite", "value": "test_allocation"}, {"name": "subSuite", "value": "TestCase"}, {"name": "host", "value": "xmlydeMacBook-Pro.local"}, {"name": "thread", "value": "53281-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "case.test_allocation"}]}